# Project Rules

## Communication
- Call the user "Boss" or "Arif" - never "the user"
- Never log or mention emotional states
- Be concise and direct
- Always give ONE best option, not multiple alternatives
 - When something involves multiple steps (say a series of linux commands), give me ONE step per prompt. Wait for my response before giving the next step. Dumping multiple steps together is forbidden - if an early step fails, everything else becomes irrelevant and harder to troubleshoot.
- Don’t guess UI labels/locations from memory; verify first (docs/current version behavior) before giving click-path instructions.
- Prefer “mainstream” fixes over app-specific overrides/hacks (e.g., for reverse proxies, fix forwarded/host headers first).
- If I already told you a config lives in this repo (e.g., `configs/wimmera.conf`), read that file directly before asking me to paste server-side configs.

## Project Context
- QGIS project for flood analysis (Wimmera region)
- Project file: `wfma.qgs`
- Scripts in `scripts/` folder (standalone, run with `python-qgis`)
- QML styles in `scripts/qmls/`
- Property layer: "Properties"
- LGA layer: "LGA" (8 features, one per local government area)

### Data Structure
- **Area**: A geographic region with flood data (subfolder name from source)
- Source mirror: `C:\Users\m.rahman\qgis\pozi_mirror\data\flood\`
- Each area folder in source contains a `Depths` subfolder with flood depth rasters
- Local depth data: `data\depth\{area}\*.tif`

### Layer Group Structure
- **Depth** (parent group) - contains all imported depth rasters
  - `{Area}/` (child groups) - one per area subfolder
    - `*.tif` (raster layers) - depth rasters with CRS EPSG:7854

### Scripts
All scripts are standalone and must be run with QGIS Python:
```
& "C:\Program Files\QGIS 3.44.3\bin\python-qgis.bat" <script.py>
```

| Script | Purpose |
|--------|---------|
| `import_depths.py` | Import TIFFs from `data\depth\` into "Depth" group |
| `remove.py` | Remove all layers/groups under "Depth" (keeps "Depth") |
| `select.py` | Select/deselect layers under "Depth" |
| `select.py -none` | Deselect all layers under "Depth" |
| `select.py -a <name>` | Select layers matching area name |
| `initiate.py` | Copy depth data from source mirror |

### Implementation Notes
- Use "LGA" vector layer for LGA boundaries (8 features)
- All depth rasters use CRS EPSG:7854
- Scripts save project automatically after changes